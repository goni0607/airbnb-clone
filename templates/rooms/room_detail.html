{% extends 'base.html' %} 

{% block page_title %}{{room.name}}{% endblock page_title %} 

{% block content %}

<div class="container max-w-7xl mx-auto pt-8">
    <div>
        <h2 class="text-3xl font-bold">{{room.name}}</h2>
        <ul class="flex gap-4 mt-2">
            <li><i class="fas fa-star fa-sm mr-1"></i><span class="sr-only">total rating:</span>{{room.total_rating}}</li>
            <li><i class="far fa-eye fa-sm mr-1"></i><span class="sr-only">view counts:</span>{{room.reviews.count}}</li>
            <li><i class="fas fa-flag fa-sm mr-1"></i><span class="sr-only">country:</span>{{room.country.name}}</li>
            <li><i class="fas fa-building fa-sm mr-1"></i><span class="sr-only">city:</span>{{room.city}}</li>
            {% if room.host.is_superhost %}
            <li class="text-sm border border-gray-500 rounded font-bold px-2">SUPERHOST</li>
            {% endif %}
        </ul>
    </div>

    <div class="h-50vh w-full flex mt-8">
        <div class="h-full w-1/2 bg-cover border-4 border-white rounded-tl-2xl rounded-bl-2xl" style="background-image:url({{room.first_photo}})"></div>
        <div class="h-full w-1/2 flex flex-wrap">
        {% for photo in room.get_next_four_photos %}
            <div class="h-1/2 w-1/2 bg-cover border-4 border-white {% if forloop.counter == 2 %}rounded-tr-2xl{% elif forloop.counter == 4 %}rounded-br-2xl{% endif %} " style="background-image:url({{photo.file.url}})"></div>
        {% endfor %}
        </div>
    </div>

    <div class="mt-8 w-full flex justify-between">
        <div class="w-2/3">
            <div class="flex justify-between items-center pb-4 border-b mb-8">
                <div>
                    <h3 class="text-2xl">
                        {{room.room_type}} information hosted by <a class="font-bold text-teal-700" href="{{room.host.get_absolute_url}}">{{room.host.first_name}}</a>
                    </h3>
                    <ul class="flex gap-x-4">
                        <li>Max Guests: {{room.guests}}</li>
                        <li>Bed rooms: {{room.bedrooms}}</li>
                        <li>Beds: {{room.beds}}</li>
                        <li>Baths: {{room.baths}}</li>
                    </ul>
                </div>
                <div>
                    {% include 'mixins/user_avatar.html' with user=room.host %}
                </div>
            </div>
            <div class="border-section">
                <p>{{room.description}}</p>
            </div>
            <div class="border-section">
                <h4>Amenities</h4>
                <ul class="w-full flex flex-wrap list-disc list-inside">
                {% for a in room.amenities.all %}
                    <li class="w-1/2">{{a}}</li>
                {% endfor %}
                </ul>
            </div>
            <div class="border-section">
                <h4>Facilities</h4>
                <ul class="w-full flex flex-wrap list-disc list-inside">
                {% for f in room.facilities.all %}
                    <li class="w-1/2">{{f}}</li>
                {% endfor %}
                </ul>
            </div>
            <div class="border-section">
                <h4>House Rules</h4>
                <ul class="w-full flex flex-wrap list-disc list-inside">
                {% for h in room.houserules.all %}
                    <li class="w-1/2">{{h}}</li>
                {% endfor %}
                </ul>
            </div>
            <div class="border-section">
                <h4 class="text-2xl">Reviews</h4>
            </div>
        </div>
        <div class="w-1/3">
        </div>
    </div>
</div>

{% endblock content %}
